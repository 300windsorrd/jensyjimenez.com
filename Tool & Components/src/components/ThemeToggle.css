.theme-toggle-icon { display: inline-grid; place-items: center; width: 40px; height: 40px; border-radius: 999px; background: var(--bg-elev); border: 1px solid var(--line); box-shadow: var(--shadow); cursor: pointer; }
.theme-toggle-icon { --hover-rotate-angle: 35deg; }
.theme-toggle-icon .icon { width: 22px; height: 22px; transition: transform var(--t-med) var(--ease); filter: drop-shadow(0 0 0px transparent); }
/* Stroke defaults for rays */
.theme-toggle-icon .sun-rays line { stroke: var(--txt); stroke-width: 2; stroke-linecap: round; }
/* Morphing visibility */
.theme-toggle-icon .sun { opacity: 1; transform-origin: center; transition: opacity var(--t-med) var(--ease), transform var(--t-med) var(--ease), filter 240ms ease; }
.theme-toggle-icon .moon { opacity: 0; transform-origin: center; transition: opacity var(--t-med) var(--ease), transform var(--t-med) var(--ease), filter 240ms ease; }
/* Light mode: emphasize sun */
:root[data-theme="light"] .theme-toggle-icon .icon { transform: rotate(0deg); }
:root[data-theme="light"] .theme-toggle-icon .sun { opacity: 1; transform: scale(1); filter: drop-shadow(0 0 6px rgba(255, 199, 0, 0.45)); }
:root[data-theme="light"] .theme-toggle-icon .sun-rays line { opacity: 1; transform: scale(1); transform-origin: center; transition: transform var(--t-med) var(--ease), opacity var(--t-med) var(--ease); }
:root[data-theme="light"] .theme-toggle-icon .moon { opacity: 0; transform: scale(0.8); filter: drop-shadow(0 0 0 rgba(0,0,0,0)); }
/* Dark mode: emphasize moon */
:root[data-theme="dark"] .theme-toggle-icon .icon { transform: rotate(35deg); }
:root[data-theme="dark"] .theme-toggle-icon .sun { opacity: 0.25; transform: scale(0.85); filter: drop-shadow(0 0 0 rgba(0,0,0,0)); }
:root[data-theme="dark"] .theme-toggle-icon .sun-rays line { opacity: 0; transform: scale(0.6); }
.theme-toggle-icon .moon-bite { fill: var(--bg); }
:root[data-theme="dark"] .theme-toggle-icon .moon { opacity: 1; transform: scale(1.05); filter: drop-shadow(0 0 6px rgba(120, 140, 255, 0.5)); }

/* Hover morph: invert icon on hover without changing theme */
:root[data-theme="light"] .theme-toggle-icon:hover .icon { transform: rotate(var(--hover-rotate-angle)); }
:root[data-theme="light"] .theme-toggle-icon:hover .sun { opacity: 0.25; transform: scale(0.85); filter: drop-shadow(0 0 0 rgba(0,0,0,0)); }
:root[data-theme="light"] .theme-toggle-icon:hover .sun-rays line { opacity: 0; transform: scale(0.6); }
:root[data-theme="light"] .theme-toggle-icon:hover .moon { opacity: 1; transform: scale(1.05); filter: drop-shadow(0 0 6px rgba(120, 140, 255, 0.5)); }

:root[data-theme="dark"] .theme-toggle-icon:hover .icon { transform: rotate(0deg); }
:root[data-theme="dark"] .theme-toggle-icon:hover .sun { opacity: 1; transform: scale(1); filter: drop-shadow(0 0 6px rgba(255, 199, 0, 0.45)); }
:root[data-theme="dark"] .theme-toggle-icon:hover .sun-rays line { opacity: 1; transform: scale(1); }
:root[data-theme="dark"] .theme-toggle-icon:hover .moon { opacity: 0; transform: scale(0.8); filter: drop-shadow(0 0 0 rgba(0,0,0,0)); }


